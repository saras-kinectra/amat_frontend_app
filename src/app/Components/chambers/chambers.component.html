<div class="container">
  <mat-card class="card">
    <div class="matContainer">
      <mat-form-field class="chip-list">

        <label class="selectChambersName">Select Chambers</label>

        <mat-chip-list #chipList>
          <mat-chip class="mat_chip" *ngFor="let chamber of selectedChambersList" [selectable]="chamberSelectable"
            [removable]="removable" (removed)="chambersRemove(chamber)">
            {{chamber.name}}
            <mat-icon matChipRemove *ngIf="removable">cancel</mat-icon>
          </mat-chip>

          <input #chamberInput [formControl]="chamberFormControl" [matAutocomplete]="auto" [matChipInputFor]="chipList"
            [matChipInputSeparatorKeyCodes]="separatorKeysCodes"  [(ngModel)]="term"><span class="errorLabelClose" [hidden]="isErrorLabelHidden"> <mat-icon  class="matIcon" >close</mat-icon></span>

           
          </mat-chip-list>




        <mat-autocomplete #auto="matAutocomplete" (optionSelected)="chamberOptionSelected($event)">


            <mat-option *ngFor="let chamber of chambersList | filter:term;let i = index" [value]="chamber">

                {{chamber.name}}
              </mat-option>
            <!-- <div *ngIf="isChamberSelected; else chambersSelected">
                <mat-option *ngFor="let chamber of chambersList | filter:term;let i = index" [value]="chamber">

                    {{chamber.name}}
                  </mat-option>
              </div>
  
              <ng-template #chambersSelected>

                <mat-option *ngFor="let chamber of compatibilityChambersList | filter:term;let i = index" [value]="chamber">

                      {{chamber.name}}
                </mat-option>
              </ng-template> -->
        </mat-autocomplete>
      
      </mat-form-field><br>
      <label [hidden]="isErrorLabelHidden" class="errorLabel"> You've exceeded the maximum number of chambers by 1 </label> 

      <div class="matContainer comapatableChambersList">
          <label class="matchingChambersLabel" [hidden]="!isChamberSelected">Known Matching Chambers</label> <br>
      <p class="chamberNames" *ngFor="let chambers of chambersList; let i = index" [class.active]="selectedIndex === i"
        (click)="filterChambersByID(chambers._id)">
        <a>{{ chambers.name }}</a>
      </p>
      </div>
    </div>
   
    <div class="matContainer" [hidden]="!isChamberSelected">

      <label class="incompatableChambers">R&D Only Chambers</label> <br>

      <p class="inCompatableChamberNames" *ngFor="let chambers of rndOnlyChambersList; let i = index">
        {{ chambers.name }}
      </p>

    </div> <br><br><br>


    <div class="matContainerproductsList matContainer">
      <p class="chamberNames" *ngFor="let chambers of productsList">
        <a>{{ chambers.name }}</a>
      </p>
    </div>

    <hr>
    <div  class="row matActions">
        <mat-card-actions  class="text-right col-md-12 mat-card-actions">
          <button  class="btn  col-sm-2"style="margin-right: 25px;" type="button"(click)="backButton()">BACK</button>
            <button  class="btn custom-button-width col-sm-2"style="background-color:#d3e5ec ; color: #2e849e; margin-right: 25px;" type="button" (click)="nextButton()">SUBMIT</button>
          </mat-card-actions>
      </div>
  </mat-card>
</div>